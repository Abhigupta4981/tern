# general commands to be invoked when retrieving package information
# Key-Value substitutions:
# package: the package name
# image: the image name that the tool uses
# tag: the image tag name that the tool uses
apt-get:
  install: 'install' # subcommand to install
  remove: 'purge' # subcommand to remove a package
  ignore: # list of subcommands that don't add or remove packages
    - 'update' 
  packages:
    - name: default
      version:
        # either a version number or a script snippet
        invoke:
          1:
            container:
              - "dpkg -l {package} | awk 'NR>5 {print $3}"
      src_url:
        invoke:
          1:
            container:
              - "apt-get download --print-uris {package}"
      src:
        # copy_in: used to copy into the running container
        copy_in:
            - from: 'config/{image}/{tag}/sources.list'
              to: '/etc/apt/sources.list'
            - from: 'config/image/apt_get_sources.sh'
              to: '/'
        invoke:
            1:
              container:
                - './apt_get_sources.sh {package}'
